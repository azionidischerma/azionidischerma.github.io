(this.webpackJsonpscherma=this.webpackJsonpscherma||[]).push([[0],{71:function(e,t,a){e.exports=a(92)},76:function(e,t,a){},77:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),s=a.n(r),i=(a(76),a(43)),c=a(41),l=a(42),u=a(45),m=a(44),p=(a(77),a(65)),h=a(144),f=a(130),d=a(140),g=a(4),v=a(132),b=a(134),y=a(135),E=a(136),w=a(137),S=a(61),I=a.n(S),k=a(139),M=a(141),j=a(63),x=a.n(j),O=a(138),C=a(62),A=a.n(C),T=a(64),N=a.n(T),P=a(143),W=a(5),R=(a(78),a(55),a(59)),L=a.n(R);W.initializeApp({apiKey:"AIzaSyCe8mQ5RcM_tm7LPvM1kxbJ211Fq7G3fFA",authDomain:"scherma-d21ad.firebaseapp.com",databaseURL:"https://scherma-d21ad.firebaseio.com",projectId:"scherma-d21ad",storageBucket:"scherma-d21ad.appspot.com",messagingSenderId:"720411353134",appId:"1:720411353134:web:d7c17466ebf51edc34ffbf"}),W.firestore().enablePersistence().catch((function(e){"failed-precondition"===e.code||e.code}));var B=Object(p.a)({palette:{background:{default:"#282c34"},primary:{main:"#ffffff"},secondary:{main:"#ffffff"}},status:{danger:"orange"},typography:{h2:{color:"#fed111"},h1:{color:"#fed111"},h5:{color:"white"},h6:{color:"white"}}});B=Object(h.a)(B);var D=Object(f.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function U(e){var t=D();return o.a.createElement(v.a,{position:"fixed",color:"transparent",elevation:0},o.a.createElement(b.a,null,o.a.createElement(y.a,{variant:"h6",className:t.title,onClick:function(){return e.setSchermataMaestro(!1)}},"Scherma"),e.schermataMaestro?o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{style:{color:"white"},onClick:function(){return e.setSchermataMaestro(!1)}},"Home"),o.a.createElement(w.a,{style:{color:"white"},"aria-label":"logout",onClick:function(){W.auth().signOut()}},o.a.createElement(I.a,null))):o.a.createElement(E.a,{style:{color:"white"},onClick:function(){return e.setSchermataMaestro(!0)}},"Maestro")))}var z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isSignedIn:!1,numeroInput:1,erroreInputSocieta:!1,nomeSocieta:"",listaMosse:[],listaTempi:[],snackOpen:!1,snackMessage:""},e.uiConfig={signInFlow:"popup",signInOptions:[W.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},e.handleClose=function(t,a){"clickaway"!==a&&e.setState({snackOpen:!1})},e.aggiungiMossa=function(t,a){try{if(e.state.listaMosse.map((function(e){return e.chiave})).includes(t)){var n=e.state.listaMosse;n[t].testo=a,e.setState({listaMosse:n})}else e.setState({listaMosse:e.state.listaMosse.concat({chiave:t,testo:a})})}catch(o){e.setState({listaMosse:e.state.listaMosse.concat({chiave:t,testo:a})})}},e.aggiungiTempo=function(t,a){try{if(e.state.listaTempi.map((function(e){return e.chiave})).includes(t)){var n=e.state.listaTempi;n[t].testo=a,e.setState({listaTempi:n})}else e.setState({listaTempi:e.state.listaTempi.concat({chiave:t,testo:a})})}catch(o){e.setState({listaTempi:e.state.listaTempi.concat({chiave:t,testo:a})})}},e.salva=function(){""!==e.state.nomeSocieta?(e.setState({erroreInputSocieta:!1}),e.state.listaMosse.length===e.state.listaTempi.length?(e.setState({snackOpen:!0,snackMessage:"Salvato."}),console.log(e.state.listaMosse),console.log(e.state.listaTempi)):e.setState({snackOpen:!0,snackMessage:"Mancano delle mosse o dei tempi."})):e.setState({erroreInputSocieta:!0})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=W.auth().onAuthStateChanged((function(t){return e.setState({isSignedIn:!!t})}))}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"render",value:function(){var e=this;return this.state.isSignedIn?o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-body"},o.a.createElement(O.a,{color:"primary","aria-label":"add",onClick:function(){return e.salva()},style:{position:"fixed",right:"20px",bottom:"20px"}},o.a.createElement(A.a,null)),o.a.createElement(k.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{minHeight:"100vh"}},o.a.createElement(k.a,{item:!0,xs:3,justify:"flex-start",alignItems:"flex-start",style:{marginTop:"20px"}},o.a.createElement(y.a,{variant:"h4"},"Benvenuto ",W.auth().currentUser.displayName)),o.a.createElement(k.a,{item:!0,xs:3,justify:"flex-start",alignItems:"flex-start",style:{marginTop:"20px"}},o.a.createElement(M.a,{id:"outlined-secondary",label:"Nome societ\xe0",variant:"outlined",color:"primary",required:!0,error:this.state.erroreInputSocieta,onChange:function(t){return e.setState({nomeSocieta:t.target.value})}})),o.a.createElement(k.a,{item:!0,xs:6,justify:"center",alignItems:"center"},o.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},o.a.createElement(k.a,{item:!0,xs:6,justify:"center",alignItems:"center"},Array(this.state.numeroInput).fill(1).map((function(e,t){return e+t-1})).map((function(t){return o.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1},o.a.createElement(k.a,{item:!0,xs:6,justify:"center",alignItems:"center"},o.a.createElement(M.a,{id:"mossa",label:"Mossa",onChange:function(a){return e.aggiungiMossa(t,a.target.value)},InputLabelProps:{color:"primary"},InputProps:{className:e.props.classes.formMosse}})),o.a.createElement(k.a,{item:!0,xs:6,justify:"center",alignItems:"center"},o.a.createElement(M.a,{id:"tempo",label:"Tempo",onChange:function(a){return e.aggiungiTempo(t,a.target.value)},InputLabelProps:e.props.classes.InputLabelProps,InputProps:{className:e.props.classes.formMosse}})))}))))),o.a.createElement(k.a,{item:!0,xs:3,justify:"flex-end",alignItems:"flex-end",style:{marginTop:"20px"}},o.a.createElement(w.a,{style:{color:"white"},"aria-label":"aggiungi",onClick:function(){return e.setState({numeroInput:e.state.numeroInput+1})}},o.a.createElement(x.a,null))))),o.a.createElement(P.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackOpen,autoHideDuration:1e4,onClose:this.handleClose,message:this.state.snackMessage,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.handleClose},o.a.createElement(N.a,{fontSize:"small"})))})):o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(L.a,{uiConfig:this.uiConfig,firebaseAuth:W.auth()})))}}]),a}(o.a.Component),F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({time:Date.now()})}),1500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return o.a.createElement("p",null,this.props.mosse[Math.floor(Math.random()*this.props.mosse.length)])}}]),a}(o.a.Component);function G(){var e=Object(n.useState)(["caricamento..."]),t=Object(i.a)(e,2),a=t[0],r=t[1],s=W.firestore();"caricamento..."===a[0]&&s.collection("mosse").doc("oueHRRQQ7wt6sV087Ynl").get().then((function(e){e.exists?r(e.data().lista):console.log("No such document!")})).catch((function(e){console.log("Error getting document",e)}));return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(F,{mosse:a})))}var H=Object(g.a)({InputLabelProps:{color:"white"},formMosse:{color:"white",fullWidth:!0,borderBottom:"2px solid white","&:after":{borderBottom:"2px solid white"}}})((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1],c=e.classes;return o.a.createElement("div",null,o.a.createElement(d.a,{theme:B},o.a.createElement(U,{schermataMaestro:r,setSchermataMaestro:s}),r?o.a.createElement(z,{classes:c}):o.a.createElement(G,null)))})),J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(H,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/scherma",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/scherma","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Q(t,e)}))}}()}},[[71,1,2]]]);
//# sourceMappingURL=main.d8bad9ef.chunk.js.map